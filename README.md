# Reflex - Telegram Mini App

–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑:
- ü§ñ **Bot** - Telegram –±–æ—Ç (Python)
- üåê **Site** - Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React + TypeScript)  
- üîå **API** - Backend —Å–µ—Ä–≤–∏—Å (Node.js + TypeScript + Prisma)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker & Docker Compose
- Node.js 18+
- Python 3.11+
- Make

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd Reflex

# 2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
make setup-dev

# 3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å–æ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# 4. –ó–∞–ø—É—Å–∫–∞–µ–º –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make dev
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Reflex/
‚îú‚îÄ‚îÄ api/                 # Backend API (Node.js + TypeScript)
‚îÇ   ‚îú‚îÄ‚îÄ src/            # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ API
‚îÇ   ‚îú‚îÄ‚îÄ prisma/         # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ site/               # Frontend (React + TypeScript)
‚îÇ   ‚îú‚îÄ‚îÄ src/           # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–∞–π—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ public/        # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ bot/                # Telegram –±–æ—Ç (Python)
‚îÇ   ‚îú‚îÄ‚îÄ bot.py         # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ Makefile           # –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ README.md          # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
make help              # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make dev               # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ä–µ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make stop              # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make logs              # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make clean             # –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
make test              # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make lint              # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –ª–∏–Ω—Ç–µ—Ä–∞–º–∏
make format            # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
```

## –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤

- **Frontend**: http://localhost:3000
- **API**: http://localhost:3001
- **PostgreSQL**: localhost:5432
- **Redis**: localhost:6379

## Git Flow –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏
- `main` - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—è
- `develop` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `staging` - –≤–µ—Ç–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –†–∞–±–æ—á–∏–µ –≤–µ—Ç–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
–ö–∞–∂–¥—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–∏ –≤–µ—Ç–∫–∏ –æ—Ç `develop`:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
git checkout develop
git pull origin develop
git checkout -b feature/–∏–º—è-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞/–æ–ø–∏—Å–∞–Ω–∏–µ-–∑–∞–¥–∞—á–∏

# –ù–∞–ø—Ä–∏–º–µ—Ä:
git checkout -b feature/ivan/user-authentication
git checkout -b feature/maria/photo-upload
git checkout -b bugfix/alex/login-error
```

### Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏**
   ```bash
   git checkout develop
   git pull origin develop
   git checkout -b feature/–≤–∞—à–µ-–∏–º—è/–Ω–∞–∑–≤–∞–Ω–∏–µ-–∑–∞–¥–∞—á–∏
   ```

2. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
   ```bash
   # –†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ
   git add .
   git commit -m "feat: –¥–æ–±–∞–≤–∏–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
   git push origin feature/–≤–∞—à–µ-–∏–º—è/–Ω–∞–∑–≤–∞–Ω–∏–µ-–∑–∞–¥–∞—á–∏
   ```

3. **–°–æ–∑–¥–∞–Ω–∏–µ Pull Request**
   - –°–æ–∑–¥–∞–π—Ç–µ PR –≤ GitHub/GitLab
   - –ù–∞–∑–Ω–∞—á—å—Ç–µ —Ä–µ–≤—å—é–µ—Ä–∞
   - –î–æ–∂–¥–∏—Ç–µ—Å—å review –∏ approve

4. **Merge –≤ develop**
   - –ü–æ—Å–ª–µ –∞–ø–ø—Ä—É–≤–∞ PR –º–µ—Ä–∂–∏—Ç—Å—è –≤ `develop`
   - –í–µ—Ç–∫–∞ —É–¥–∞–ª—è–µ—Ç—Å—è

## –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–º–º–∏—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ–º [Conventional Commits](https://www.conventionalcommits.org/):

```bash
feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞
docs: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
style: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
refactor: —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
test: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã
chore: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–º–∏—Ç–æ–≤

```bash
git commit -m "feat(auth): –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram"
git commit -m "fix(api): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
git commit -m "docs: –æ–±–Ω–æ–≤–ª–µ–Ω README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –¥–µ–ø–ª–æ—é"
```

## –°—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Development (–ª–æ–∫–∞–ª—å–Ω–∞—è)
- –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `make dev`
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- Hot reload –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Staging
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ –≤–µ—Ç–∫–∏ `staging`
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–º

### Production
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ –≤–µ—Ç–∫–∏ `main`
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –í–µ—Ç–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
–ö–∞–∂–¥—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–∏—Ö –≤–µ—Ç–∫–∞—Ö:
```bash
feature/ivan/*     # –í–µ—Ç–∫–∏ –ò–≤–∞–Ω–∞
feature/maria/*    # –í–µ—Ç–∫–∏ –ú–∞—Ä–∏–∏
feature/alex/*     # –í–µ—Ç–∫–∏ –ê–ª–µ–∫—Å–∞
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –≤–µ—Ç–∫–∏
git branch -a

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–º–º–∏—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
git log --author="–ò–≤–∞–Ω" --oneline

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ç–∫–µ
git diff develop..feature/ivan/some-feature
```

## –î–µ–ø–ª–æ–π

### Staging
```bash
git checkout staging
git merge develop
git push origin staging
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ staging —Å–µ—Ä–≤–µ—Ä
```

### Production
```bash
git checkout main
git merge staging
git tag v1.0.0
git push origin main --tags
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ production —Å–µ—Ä–≤–µ—Ä
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
make logs          # –í—Å–µ –ª–æ–≥–∏
make logs-api      # –¢–æ–ª—å–∫–æ API
make logs-site     # –¢–æ–ª—å–∫–æ —Å–∞–π—Ç
make logs-bot      # –¢–æ–ª—å–∫–æ –±–æ—Ç
```

### Production
- –õ–æ–≥–∏ —á–µ—Ä–µ–∑ PM2 –¥–ª—è Node.js —Å–µ—Ä–≤–∏—Å–æ–≤
- Systemd –ª–æ–≥–∏ –¥–ª—è Python –±–æ—Ç–∞
- PostgreSQL –ª–æ–≥–∏
- Nginx access/error –ª–æ–≥–∏

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è IDE

### VS Code
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
- TypeScript Hero
- Prettier
- ESLint
- Python
- Docker
- GitLens

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ prettier (.prettierrc)
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2
}
```

## –ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: http://localhost:3001/docs
- üêõ –ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã: —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –≤ GitHub
- üí¨ –í–æ–ø—Ä–æ—Å—ã: –æ–±—Å—É–∂–¥–∞–µ–º –≤ Telegram —á–∞—Ç–µ –∫–æ–º–∞–Ω–¥—ã

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 